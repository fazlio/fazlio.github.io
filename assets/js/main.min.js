const router=new VueRouter({mode:"history",routes:[]}),app=new Vue({router:router,data:()=>({load:!1,config:"",view:!1,viewActive:0,pageTop:0}),methods:{openItem:function(e,t=!0){this.pageTop=window.pageYOffset||document.documentElement.scrollTop,window.scrollTo(0,0),t&&this.$router.push({query:{item:this.url(e.title)}}),this.view=e,this.viewActive=0},changeActive:function(e){if(window.scrollTo(0,0),"left"===e){if(0===this.viewActive)return!1;this.viewActive-=1}if("right"===e){if(this.viewActive+1===this.view.images.length)return!1;this.viewActive+=1}},close:function(e=!0){window.scrollTo(0,this.pageTop),this.view=!1,e&&this.$router.push({})},url:function(e){const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧıîïíīįìłḿñńǹňôöòóœøōõṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",i=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(i,e=>"aaaaaaaaaacccddeeeeeeeegghiiiiiiilmnnnnooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},mounted(){let e=this;$(document).bind("keyup",function(t){27===t.keyCode&&e.close(),37===t.keyCode&&e.changeActive("left"),39===t.keyCode&&e.changeActive("right")})},watch:{$route(e){if("/"===e.fullPath&&this.close(!1),e.query.item){let t=this.config.portfolio.find(t=>this.url(t.title)===e.query.item);t&&this.openItem(t,!1)}}},beforeCreate(){axios.get("./config.json").then(e=>{this.config=JSON.parse(JSON.stringify(e.data))}).then(()=>{if(document.title=this.config.name,$('meta[name="description"]').attr("content",this.config.description),$('link[rel="shortcut icon"], link[rel="apple-touch-icon"]').attr("href",this.config.icons[0].src),this.$route.query.item){let e=this.config.portfolio.find(e=>this.url(e.title)===this.$route.query.item);e&&this.openItem(e,!1)}this.load=!0})}}).$mount("#app");"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(()=>console.log("[SW] Is activated."));